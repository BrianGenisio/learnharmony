/*! bit-imports v0.3.3 - 2015-06-26. (c) 2015 Miguel Castillo. Licensed under MIT */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.bitimports=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("promjax"),e=a("./src/fileReader");e.register(d),b.exports=a("./src/bit-imports")},{"./src/bit-imports":42,"./src/fileReader":47,promjax:35}],2:[function(a,b,c){function d(a,b){this.url=new e(a,b)}var e=a("./url");d.parseParts=function(a){var b,c=a.replace(/([^/]+)$/gim,function(a){return b=a,""});return{name:b||"",directory:c,path:a}},d.addExtension=function(a,b){var c=d.parseParts(a),e=c.name.split(".");return 1===e.length&&b&&e.push(b),c.directory+e.join(".")},d.replaceExtension=function(a,b){var c=/([^.\/\\]+\.)[^.]+$/;return a.match(c)?a.replace(c,"$1"+b):a+"."+b},b.exports=d},{"./url":4}],3:[function(a,b,c){function d(a){this.settings=a||{};var b=this.settings.baseUrl||(this.settings.baseUrl=".");b&&"/"!==b[b.length-1]&&(this.settings.baseUrl=b+"/")}var e=a("./file"),f=a("./url");d.prototype.resolve=function(a,b){var c,f,g,h,i,j,k,l,m=this.settings,n=m.urlArgs,o=m.shim||{},p=m.packages||[],q=m.paths||{},r=q[a],s=a.split("!");for(a=s.pop(),i=a.replace(/[\/\\]+/g,"/").split("/"),j=i.shift(),k=i.join("/"),c=0,f=p.length;f>c;c++){if(h=p[c],h===j){r=j+"/main";break}if(h.name===j){r=h.location?h.location+"/":"",r+=j+"/"+(k||h.main||"main");break}}return o.hasOwnProperty(a)&&(l={name:o[a].exports||o[a].name||a,deps:o[a].imports||o[a].deps||[]}),r||(r=a),0===s.length&&/\.js$/.test(r)===!1&&(r+=".js"),b=d.useBase(r)&&b?b:m.baseUrl,g=new e(n?r+"?"+n:r,b),{name:a,file:g,url:g.url,shim:l,plugins:s}},d.useBase=function(a){return"."===a[0]&&("/"===a[1]||"."===a[1]&&"/"===a[2])||d.hasProtocol(a)},d.hasProtocol=function(a){return/^(?:(https?|file)(:\/\/\/?))/g.test(a)},d.File=e,d.Url=f,b.exports=d},{"./file":2,"./url":4}],4:[function(a,b,c){function d(a,b){return d.parser.join(b||"",a)}function e(a,b){return d.parser.join(a,b).href}function f(a,b){var c=g(a),d=g(b),e="";return i.isAbsolute(d.pathname)?e=d.pathname:(c.pathname||d.pathname)&&(e=i.join(h(c.pathname),d.pathname)),!d.hostname&&c.hostname&&(d=c),d.pathname=e,d.href=g.href(d),d}function g(a){var b=/^((https?:)(\/\/\/?)(?:([\w]+)(?::([\w]*))?@)?([\d\w\.-]+)(?::(\d+))?)?([\/\\\w\.()-]*)?(?:([?][^#]*)?(#.*)?)*/gim.exec(a);b.shift(),b[5]&&(b[5]=i.normalize(b[5]));var c={origin:b[0]||"",protocol:b[1]||"",delimeter:b[2]||"",username:b[3]||"",password:b[4]||"",hostname:b[5]||"",port:b[6]||"",pathname:b[7]||"",search:b[8]||"",hash:b[9]||""};return c.pathname=g.pathname(c),c.host=g.host(c),c.href=g.href(c),c}function h(a){return 1!==a.length&&"/"!==a[a.length-1]?a.substr(0,a.lastIndexOf("/")):a}var i=a("path");g.pathname=function(a){return a.hostname?a.pathname||"/":a.pathname},g.host=function(a){return a.hostname+(a.port?":"+a.port:"")},g.href=function(a){return a.origin+a.pathname+a.search+a.hash},d.parser={resolve:e,parse:g,join:f},b.exports=d},{path:33}],5:[function(a,b,c){function d(a){a=a||{},this._name=d.configureName(a.name),this._match=d.configureMatch(a.match)}var e=a("./matcher"),f=0;d.configureName=function(a){return a||"rule-"+f++},d.configureMatch=function(a){return a=a||[],a=a instanceof Array?a:[a],a.map(function(a){return a&&a.constructor===Function?a:e(a)})},d.prototype.getName=function(){return this._name},d.prototype.getLength=function(){return this._match.length},d.prototype.addMatcher=function(a){return this._match=this._match.concat(d.configureMatch(a)),this},d.prototype.match=d.prototype.matchAny=function(a){var b,c,e=this._match;for(b=0,c=e.length;c>b;b++)if(d.__match(e[b],a))return!0;return!1},d.prototype.matchAll=function(a){var b,c,e=this._match;for(b=0,c=e.length;c>b;b++)if(!d.__match(e[b],a))return!1;return!0},d.__match=function(a,b){try{return a(b)}catch(c){}return!1},d.matcher=e,b.exports=d},{"./matcher":6}],6:[function(a,b,c){function d(a){return a instanceof RegExp?function(b){return a.test(b)}:function(b){return b===a}}d.extension=function(a){if(""===a||"string"!=typeof a)throw new TypeError("Matching rule must be a string");return a=new RegExp("\\.("+a+")$"),function(b){return a.test(b)}},d.string=function(a){if("string"!=typeof a)throw new TypeError("Match type must be a string");return function(b){return a===b}},d.regex=function(a){if(""!==a&&"string"==typeof a&&(a=new RegExp(a)),!(a instanceof RegExp))throw new TypeError("Match type must be a string or a regex");return function(b){return a.test(b)}},b.exports=d},{}],7:[function(a,b,c){function d(a){a=a||{},this.settings=a,this.context=o.getById(q()),this.plugins={},this.rules={ignore:{fetch:new e,transform:new e,dependency:new e,compile:new e}},this.pipelines={resolve:new p(this),fetch:new p(this),transform:new p(this),dependency:new p(this),compile:new p(this)},this.providers={loader:new d.Loader(this),importer:new d.Import(this)};var b=this.providers;this.resolve=a.resolve||(new d.Resolver).resolve,this.fetch=a.fetch||(new d.Fetcher).fetch,this.compile=a.compile||(new d.Compiler).compile,this.load=b.loader.load.bind(b.loader),this.register=b.loader.register.bind(b.loader),this["import"]=b.importer["import"].bind(b.importer);for(var c in a.plugins)this.plugin(c,a.plugins[c]);for(var f in a.pipelines)this.pipelines.hasOwnProperty(f)&&this.pipelines[f].use(a.pipelines[f])}var e=a("roolio"),f=a("./logger"),g=a("./utils"),h=a("./interfaces/fetcher"),i=a("./interfaces/compiler"),j=a("./interfaces/resolver"),k=a("./import"),l=a("./loader"),m=a("./module"),n=a("./plugin"),o=a("./registry"),p=a("./middleware"),q=o.idGenerator("bitloader");d.prototype.resolve=function(){},d.prototype.fetch=function(){},d.prototype.load=function(){},d.prototype["import"]=function(){},d.prototype.compile=function(){},d.prototype.register=function(){},d.prototype.clear=function(){this.context.clear()},d.prototype.hasModule=function(a){return this.context.hasModule(a)||this.providers.loader.isLoaded(a)},d.prototype.getModule=function(a){if(!this.hasModule(a))throw new TypeError("Module `"+a+"` has not yet been loaded");return this.context.hasModule(a)?this.context.getModule(a):this.context.setModule(m.State.LOADED,a,this.providers.loader.syncBuild(a))},d.prototype.setModule=function(a){var b=a.name;if(!(a instanceof m))throw new TypeError("Module `"+b+"` is not an instance of Module");if(!b||"string"!=typeof b)throw new TypeError("Module must have a name");if(this.context.hasModule(b))throw new TypeError("Module instance `"+b+"` already exists");return this.context.setModule(m.State.LOADED,b,a)},d.prototype.deleteModule=function(a){if(!this.context.hasModule(a))throw new TypeError("Module instance `"+a+"` does not exists");return this.context.deleteModule(a)},d.prototype.getModuleCode=function(a){if(!this.hasModule(a))throw new TypeError("Module `"+a+"` has not yet been loaded");return this.getModule(a).code},d.prototype.setModuleCode=function(a,b){if(this.hasModule(a))throw new TypeError("Module code for `"+a+"` already exists");var c=new m({name:a,code:b});return this.setModule(c).code},d.prototype.isModuleCached=function(a){return this.context.hasModule(a)},d.prototype.ignore=function(a){if(!a)throw new TypeError("Must provide a rule configuration");var b,c,d;for((a instanceof Array||"string"==typeof a)&&(a={match:a}),d=a.name?"*"===a.name?Object.keys(this.rules.ignore):g.isArray(a.name)?a.name:[a.name]:["transform","dependency"],b=0,c=d.length;c>b;b++)this.rules.ignore[d[b]].addMatcher(a.match);return this},d.prototype.plugin=function(a,b){function c(a){a.deferred&&e.push(a.deferred)}g.isPlainObject(a)&&(b=a,a=null);var d;this.plugins.hasOwnProperty(a)?d=this.plugins[a]:(d=new n(a,this),this.plugins[d.name]=d);var e=[];return d.configure(b,c),e.length&&this.ignore({match:e}),d},d.prototype.hasPlugin=function(a){return this.plugins.hasOwnProperty(a)},d.prototype.getPlugin=function(a){if(this.plugins.hasOwnProperty(a))throw new TypeError("Plugin '"+a+"' not found");return this.plugins[a]},d.Utils=g,d.Registry=o,d.Loader=l,d.Import=k,d.Module=m,d.Plugin=n,d.Resolver=j,d.Fetcher=h,d.Compiler=i,d.Middleware=p,d.Rule=e,d.Logger=f,b.exports=d},{"./import":8,"./interfaces/compiler":9,"./interfaces/fetcher":10,"./interfaces/resolver":11,"./loader":12,"./logger":13,"./middleware":21,"./module":22,"./plugin":24,"./registry":26,"./utils":28,roolio:5}],8:[function(a,b,c){function d(a){if(!a)throw new TypeError("Must provide a manager");this.manager=a,this.context=h.getById(i())}function e(a,b){return a&&a.hasOwnProperty(b)}var f=a("./promise"),g=a("./utils"),h=a("./registry"),i=h.idGenerator("import"),j={IMPORTING:"importing"};d.prototype["import"]=function(a,b){var c=this;return"string"==typeof a?f.resolve(c._getModule(a,b)):f.all(a.map(function(a){return c._getModule(a,b)}))},d.prototype._getModule=function(a,b){b=b||{};var c=this,d=this.manager;return e(b.modules,a)?b.modules[a]:d.hasModule(a)?d.getModuleCode(a):c.hasModule(a)?c.getModule(a):new f(function(b,e){function h(a){e(g.reportError(a))}function i(e){return a!==e.name?f.reject(new TypeError("Module name must be the same as the name used for loading the Module itself")):(c.deleteModule(e.name),void b(d.getModuleCode(e.name)))}c.setModule(a,d.load(a)).then(i,h)})},d.prototype.hasModule=function(a){return this.context.hasModuleWithState(j.IMPORTING,a)},d.prototype.getModule=function(a){return this.context.getModuleWithState(j.IMPORTING,a)},d.prototype.setModule=function(a,b){return this.context.setModule(j.IMPORTING,a,b)},d.prototype.deleteModule=function(a){return this.context.deleteModule(a)},b.exports=d},{"./promise":25,"./registry":26,"./utils":28}],9:[function(a,b,c){function d(){}d.prototype.compile=function(a){a.configure({code:a.source})},b.exports=d},{}],10:[function(a,b,c){function d(){}d.prototype.fetch=function(){throw new TypeError("Fetcher:fetch is not implemented, must be implemented by the consumer code")},b.exports=d},{}],11:[function(a,b,c){function d(){}d.prototype.resolve=function(a){a.configure({cname:a.name})},b.exports=d},{}],12:[function(a,b,c){function d(a){if(!a)throw new TypeError("Must provide a manager");this.manager=a,this.context=i.getById(p()),this.pipeline=new h([k.pipeline,l.pipeline,m.pipeline,n.pipeline,o.pipeline])}var e=a("./promise"),f=a("./module"),g=a("./utils"),h=a("./pipeline"),i=a("./registry"),j=a("./meta/linker"),k=a("./meta/resolve"),l=a("./meta/fetch"),m=a("./meta/transform"),n=a("./meta/dependency"),o=a("./meta/compile"),p=i.idGenerator("loader");d.prototype.load=function(a,b){function c(){return d.asyncBuild(a)}var d=this,f=this.manager;return a?f.hasModule(a)?e.resolve(f.getModule(a)):d.isLoaded(a)||d.isPending(a)?e.resolve(c()):d.fetch(a,b).then(c,g.reportError):e.reject(new TypeError("Must provide the name of the module to load"))},d.prototype.fetch=function(a,b){function c(a){return d.setLoaded(a.name,a)}var d=this,h=this.manager;if(!a)return e.reject(new TypeError("Must provide the name of the module to fetch"));if(h.hasModule(a))return e.resolve();if(d.isLoading(a))return d.getLoading(a);b&&(b={name:b.name,path:b.path});var i=new f.Meta({name:a,referer:b}),j=d._pipelineModuleMeta(i).then(c,g.reportError);return d.setLoading(a,j)},d.prototype.syncBuild=function(a){if(this.manager.isModuleCached(a))return e.resolve(this.manager.getModule(a));if(this._compileModuleMeta(a),this.isPending(a))throw new TypeError("Unable to synchronously build dynamic module '"+a+"'");if(!this.isLoaded(a))throw new TypeError("Unable to synchronously build module '"+a+"'");return this._linkModuleMeta(a)},d.prototype.asyncBuild=function(a){var b=this;if(this.manager.isModuleCached(a))return e.resolve(this.manager.getModule(a));if(this._compileModuleMeta(a),this.isLoaded(a))return e.resolve().then(function(){return b._linkModuleMeta(a)},g.reportError);if(!this.isPending(a))throw new TypeError("Unable to build '"+a+"'.");var c=function(a){var c=a.deps.map(function(a){return b.asyncBuild(a)});return e.all(c).then(function(){return a},g.reportError)},d=function(){return b._linkModuleMeta(a)};return n.pipeline(b.manager,b.getModule(a)).then(c,g.reportError).then(d,g.reportError)},d.prototype.register=function(a,b,c,d){if(this.manager.isModuleCached(a))throw new TypeError("Module '"+a+"' is already loaded");this.setPending(a,new f.Meta({name:a,deps:b,factory:c,type:d}))},d.prototype.transform=function(a){if(!a)return e.reject(new TypeError("Must provide a module meta object"));if(!g.isString(a.source))throw e.reject(new TypeError("Must provide a source string property with the content to transform"));return a.deps=a.deps||[],m.pipeline(this.manager,a)},d.prototype.runPipeline=function(a){function b(){return a}return this.pipeline.run(this.manager,a).then(b,g.reportError)},d.prototype._pipelineModuleMeta=function(a){return f.Meta.isCompiled(a)?e.resolve(a):this.runPipeline(a)},d.prototype._compileModuleMeta=function(a){var b,c=this.manager;if(!this.isPending(a)){if(!this.isLoaded(a))throw this.manager.isModuleCached(a)?new TypeError("Module `"+a+"` is already built"):new TypeError("Module `"+a+"` is not loaded yet. Make sure to call `load` or `fetch` prior to calling `linkModuleMeta`");return b=this.getModule(a),o.compile(c,b)}},d.prototype._linkModuleMeta=function(a){var b,c=this.manager;if(this.manager.isModuleCached(a))throw new TypeError("Module `"+a+"` is already built");if(!this.isLoaded(a)&&!this.isPending(a))throw new TypeError("Module `"+a+"` is not loaded yet. Make sure to call `load` or `fetch` prior to calling `linkModuleMeta`");b=this.deleteModule(a);var d=j(c,b);return c.setModule(d),d},d.prototype.hasModule=function(a){return this.context.hasModule(a)},d.prototype.getModule=function(a){return this.context.getModule(a)},d.prototype.isLoading=function(a){return this.context.hasModuleWithState(f.State.LOADING,a)},d.prototype.getLoading=function(a){return this.context.getModuleWithState(f.State.LOADING,a)},d.prototype.setLoading=function(a,b){return this.context.setModule(f.State.LOADING,a,b)},d.prototype.isPending=function(a){return this.context.hasModuleWithState(f.State.PENDING,a)},d.prototype.getPending=function(a){return this.context.getModuleWithState(f.State.PENDING,a)},d.prototype.setPending=function(a,b){return this.context.setModule(f.State.PENDING,a,b)},d.prototype.isLoaded=function(a){return this.context.hasModuleWithState(f.State.LOADED,a)},d.prototype.getLoaded=function(a){return this.context.getModuleWithState(f.State.LOADED,a)},d.prototype.setLoaded=function(a,b){return this.context.setModule(f.State.LOADED,a,b)},d.prototype.deleteModule=function(a){return this.context.deleteModule(a)},b.exports=d},{"./meta/compile":14,"./meta/dependency":15,"./meta/fetch":16,"./meta/linker":17,"./meta/resolve":18,"./meta/transform":20,"./module":22,"./pipeline":23,"./promise":25,"./registry":26,"./utils":28}],13:[function(a,b,c){(function(a){function c(a,b){b=b||{},this._enabled=!0,this.name=a,g(this,b),h(this,b)}function d(){var a;return"undefined"!=typeof console&&(a=console),a&&{write:function(b){a.log(b)}}}function e(){var b;return"undefined"!=typeof a&&a.stdout&&(b=a.stdout),b&&{write:function(a){b.write(a)}}}function f(){return{write:function(){}}}function g(a,b){a.stream=b.stream||d()||e()||f()}function h(b,c){c.serialize?b.serialize=c.serialize:"undefined"!=typeof a&&a.stdout&&(b.serialize=function(a){return"string"!=typeof a&&(a=JSON.stringify(a)),a})}function i(){return(new Date).getTime()}var j=!1,k=!1;c.prototype.factory=function(a,b){return new c(a,b)},c.prototype.log=function(){if(this.isEnabled()){var a={date:i(),type:"log",name:this.name,data:arguments};(c.stream||this.stream).write((c.serialize||this.serialize)(a))}},c.prototype.error=function(){if(this.isEnabled()){var a={date:i(),type:"error",name:this.name,data:arguments};(c.stream||this.stream).write((c.serialize||this.serialize)(a))}},c.prototype.warn=function(){if(this.isEnabled()){var a={date:i(),type:"warn",name:this.name,data:arguments};(c.stream||this.stream).write((c.serialize||this.serialize)(a))}},c.prototype.info=function(){if(this.isEnabled()){var a={date:i(),type:"info",name:this.name,data:arguments};(c.stream||this.stream).write((c.serialize||this.serialize)(a))}},c.prototype.serialize=function(a){return a},c.prototype.isEnabled=function(){return this._enabled&&j&&(!k||k===this.name)},c.prototype.enable=function(){this._enabled=!0},c.prototype.disable=function(){this._enabled=!1},c.prototype.only=function(){c._only||(c._only=this.name)},c.prototype.all=function(){c._only=null},c.prototype.disableAll=function(){c.disable()},c.prototype.enableAll=function(){c.enable()},c.prototype["default"]=c,c.enable=function(){j=!0},c.disable=function(){j=!1},c.only=function(a){k=a},c.all=function(){k=null},b.exports=new c}).call(this,a("_process"))},{_process:34}],14:[function(a,b,c){function d(){}function e(a,b){return!a.rules.ignore.compile.match(b.name)}var f=a("./runPipeline"),g=a("../promise"),h=a("../module"),i=a("../utils"),j=a("../logger").factory("Meta/Compiler");d.pipeline=function(a,b){function c(){return b}return j.log(b.name,b),h.Meta.canCompile(b)&&e(a,b)?f(a.pipelines.compile,b).then(c,i.reportError):g.resolve(b)},d.compile=function(a,b){j.log(b.name,b),e(a,b)&&h.Meta.canCompile(b)&&b.configure(a.compile(b))},b.exports=d},{"../logger":13,"../module":22,"../promise":25,"../utils":28,"./runPipeline":19}],15:[function(a,b,c){function d(){}function e(a,b){function c(){return b}var d,e,f=new Array(b.deps.length);for(d=0,e=b.deps.length;e>d;d++)f[d]=a.providers.loader.fetch(b.deps[d],b);return h.all(f).then(c,j.reportError)}function f(a,b){return!a.rules.ignore.dependency.match(b.name)}var g=a("./runPipeline"),h=a("../promise"),i=a("../module"),j=a("../utils"),k=a("../logger").factory("Meta/Dependency");d.pipeline=function(a,b){function c(){return i.Meta.hasDependencies(b)?e(a,b):b}return k.log(b.name,b),f(a,b)?g(a.pipelines.dependency,b).then(c,j.reportError):h.resolve(b)},b.exports=d},{"../logger":13,"../module":22,"../promise":25,"../utils":28,"./runPipeline":19}],16:[function(a,b,c){function d(){}function e(a,b){return!h.isString(b.source)&&!a.rules.ignore.fetch.match(b.name)}var f=a("./runPipeline"),g=a("../promise"),h=a("../utils"),i=a("../logger").factory("Meta/Fetch");d.pipeline=function(a,b){function c(){return h.isString(b.source)?b:d.fetch(a,b)}return i.log(b.name,b),e(a,b)?f(a.pipelines.fetch,b).then(c,h.reportError):g.resolve(b)},d.fetch=function(a,b){return i.log(b.name,b),e(a,b)?g.resolve(a.fetch(b)).then(function(a){return b.configure(a)},h.reportError):g.resolve(b)},b.exports=d},{"../logger":13,"../promise":25,"../utils":28,"./runPipeline":19}],17:[function(a,b,c){function d(a,b){function c(b){f.log(b.name,b);var d=b.deps.map(function(d){return b.meta&&b.meta.builtins&&b.meta.builtins.hasOwnProperty(d)?b.meta.builtins[d]:a.isModuleCached(d)?a.getModuleCode(d):c(a.getModule(d)).code});return b.factory&&!b.hasOwnProperty("code")&&(b.code=b.factory.apply(void 0,d)),b}if(!e.Meta.isCompiled(b))throw new TypeError("Module "+b.name+" cannot be linked");var d=new e(b);return d.name=b.name,d.meta=b,c(d)}var e=a("../module"),f=a("../logger").factory("Module/Linker");b.exports=d},{"../logger":13,"../module":22}],18:[function(a,b,c){function d(){}var e=a("./runPipeline"),f=a("../promise"),g=a("../utils"),h=a("../logger").factory("Meta/Resolve");d.pipeline=function(a,b){function c(){return b.hasOwnProperty("path")?b:d.resolve(a,b)}return h.log(b.name,b),e(a.pipelines.resolve,b).then(c,g.reportError)},d.resolve=function(a,b){return h.log(b.name,b),f.resolve(a.resolve(b)).then(function(a){return a=a||{},a.cname||(a.cname=a.name||a.path),delete a.name,b.configure(a)},g.reportError)},b.exports=d},{"../logger":13,"../promise":25,"../utils":28,"./runPipeline":19}],19:[function(a,b,c){function d(a,b){return e(b.plugins)?a.run(b.plugins,b,f.createCanExecute(b)):a.runAll(b,f.createCanExecute(b))}function e(a){return a&&a.length&&!(1===a.length&&!a[0])}var f=a("../plugin");b.exports=d},{"../plugin":24}],20:[function(a,b,c){function d(){}function e(a,b){return h.isString(b.source)&&!a.rules.ignore.transform.match(b.name)}var f=a("./runPipeline"),g=a("../promise"),h=a("../utils"),i=a("../logger").factory("Meta/Transform");d.pipeline=function(a,b){function c(){return b}return i.log(b.name,b),e(a,b)?f(a.pipelines.transform,b).then(c,h.reportError):g.resolve(b)},b.exports=d},{"../logger":13,"../promise":25,"../utils":28,"./runPipeline":19}],21:[function(a,b,c){function d(){}function e(a){this.settings=a||{},this.providers=[],this.named={}}function f(a,b,c){function d(a,d){function e(a){return a===!1&&(g=!0),g||c&&(!c||c(d)===!1)?void 0:d.execute(b)}function f(a){return g=!0,h.reportError(a)}var g=!1;return a.then(e,f)}return a.reduce(d,g.resolve())}var g=a("./promise"),h=a("./utils"),i=a("./logger").factory("Middleware");d.prototype.execute=function(a){return h.isFunction(this.handler)?this.handler.apply(this,a):void 0},e.prototype.use=function(a){h.isArray(a)||(a=[a]);var b,c,d,f;for(b=0,c=a.length;c>b;b++){if(f=a[b],!f)throw new TypeError("Middleware provider must not be empty");this.hasProvider(f.name)?e.configureProvider(this,this.getProvider(f.name),f):(d=e.createProvider(this,f),this.providers.push(d),h.isString(d.name)&&(this.named[d.name]=d))}return this},e.prototype.getProvider=function(a){if(!this.named.hasOwnProperty(a))throw new TypeError("Middleware provider '"+a+"' does not exist");return this.named[a]},e.prototype.hasProvider=function(a){return this.named.hasOwnProperty(a)},e.prototype.filterProviders=function(a){if(h.isString(a)&&(a=[a]),!h.isArray(a))throw new TypeError("List of handlers must be a string or an array of names");var b,c,d=[];for(b=0,c=a.length;c>b;b++)this.hasProvider(a[b])&&d.push(this.getProvider(a[b]));return d},e.prototype.run=function(a,b,c){b&&!h.isArray(b)&&(b=[b]);var d=this.filterProviders(a);return f(d,b,c)},e.prototype.runFirst=function(a,b,c){b&&!h.isArray(b)&&(b=[b]);var d=this.filterProviders(a).shift();return f(d?[d]:[],b,c)},e.prototype.runAll=function(a,b){return a&&!h.isArray(a)&&(a=[a]),f(this.providers,a,b)},e.configureProvider=function(a,b,c){if(h.isFunction(b.configure)&&b.configure(c),h.isFunction(c))b.handler=c;else if(h.isString(c))b.name=c,h.isFunction(b.handler)||(b.handler=e.deferredHandler(a,b));else if(h.isPlainObject(c)){if(!h.isFunction(c.handler)&&!h.isFunction(b.handler)){if(!h.isString(c.name))throw new TypeError("Middleware provider must have a handler method or a name");c.handler=e.deferredHandler(a,b)}h.extend(b,c)}return b},e.createProvider=function(a,b){var c;return(h.isFunction(b)||h.isString(b)||h.isPlainObject(b))&&(c=e.configureProvider(a,new d,b)),c||b},e.deferredHandler=function(a,b){function c(){return b.__deferred?i.log("import [pending]",b):(i.log("import [start]",b),b.__deferred=a.settings["import"](b.name).then(d,h.reportError)),b.__deferred}function d(c){i.log("import [end]",b),delete b.__deferred,e.configureProvider(a,b,c)}if(!a.settings["import"])throw new TypeError("You must configure an import method in order to dynamically load middleware providers");return function(){function a(){return b.execute(d)}var d=arguments;return c().then(a,h.reportError)}},e.Provider=d,b.exports=e},{"./logger":13,"./promise":25,"./utils":28}],22:[function(a,b,c){function d(a){if(!a)throw new TypeError("Must provide options to create the module");a.hasOwnProperty("code")&&(this.code=a.code),a.hasOwnProperty("factory")&&(this.factory=a.factory),this.type=a.type||g.UNKNOWN,this.id=a.id||a.name,this.name=a.name,this.deps=a.deps?a.deps.slice(0):[]}function e(a){if(a=a||{},f.isString(a)&&(a={name:a}),a.id=a.id||a.name,!f.isString(a.name))throw new TypeError("Must provide a name, which is used by the resolver to create a location for the resource");f.isArray(a.deps)||(delete a.deps,this.deps=[]),this.configure(a)}var f=a("./utils"),g={UNKNOWN:"UNKNOWN",AMD:"AMD",CJS:"CJS",IIFE:"IIFE"},h={LOADING:"loading",LOADED:"loaded",PENDING:"pending"};e.prototype.configure=function(a){return f.extend(this,a)},e.validate=function(a){if(!a)throw new TypeError("Must provide options");if(!e.isCompiled(a)&&!e.canCompile(a))throw new TypeError("ModuleMeta must provide a `source` string or `code`.")},e.hasDependencies=function(a){return a.deps&&a.deps.length},e.isCompiled=function(a){return a.hasOwnProperty("code")||f.isFunction(a.factory)},e.canCompile=function(a){return!e.isCompiled(a)&&f.isString(a.source)},d.Meta=e,d.Type=g,d.State=h,b.exports=d},{"./utils":28}],23:[function(a,b,c){function d(a){this.assets=a}var e=a("./promise"),f=a("./utils");d.prototype.run=function(){function a(a){return function(){return a.apply(void 0,b)}}var b=arguments;return this.assets.reduce(function(b,c){return b.then(a(c),f.reportError)},e.resolve())},b.exports=d},{"./promise":25,"./utils":28}],24:[function(a,b,c){function d(a,b){b=b||{},this.name=a||"plugin-"+n++,this.settings=b,this.services=b.services||b.pipelines,this._matches={},this._delegates={},this._handlers={}}function e(a,b,c){b.use({name:a.name,match:a._matches,handler:c})}function f(a,b){return function(c){function d(a,b){function d(){return b.handler.call(b,c,b.options)}return a.then(d,l.reportError)}return a._handlers[b].reduce(d,k.resolve())}}function g(a,b,c){if(!b)throw new TypeError("Plugin must have 'handlers' defined");return l.isArray(b)||(b=[b]),b.map(function(b){function d(c){function d(a){return delete b.pending,b.handler=a,a.call(b,c,b.options)}if(!b.pending)return b.pending=e,h(a,e).then(d,l.reportError)}var e;if(!b)throw new TypeError("Plugin handler must be a string, a function, or an object with a handler that is a string or a function");if((l.isFunction(b)||l.isString(b))&&(b={handler:b}),l.isString(b.handler)&&(e=b.handler,b.deferred=e,b.handler=d),!l.isFunction(b.handler))throw new TypeError("Plugin handler must be a function or a string");return c&&c(b),b})}function h(a,b){if(!a.settings["import"])throw new TypeError("You must configure an import method in order to dynamically load plugin handlers");return a.settings["import"](b)}function i(a,b){var c,d=0;for(var e in a)if(b.hasOwnProperty(e)&&a.hasOwnProperty(e)&&(c=a[e].getLength(),d+=c,c&&a[e].match(b[e])))return!0;return!d}function j(a){return function(b){return i(b.match,a)}}var k=a("./promise"),l=a("./utils"),m=a("roolio"),n=0;d.prototype.configure=function(a,b){var c=l.merge({},a);for(var d in c.match)c.match.hasOwnProperty(d)&&this.addMatchingRules(d,c.match[d]);for(var e in c)c.hasOwnProperty(e)&&"match"!==e&&this.addHandlers(e,c[e],b);return this},d.prototype.addMatchingRules=function(a,b){var c;return b&&b.length&&(c=this._matches[a]||(this._matches[a]=new m({name:a})),c.addMatcher(b)),this},d.prototype.addHandlers=function(a,b,c){if(!this.services.hasOwnProperty(a))throw new TypeError("Unable to register plugin for '"+a+"'. '"+a+"' is not found");return this._handlers[a]=g(this,b,c),this._delegates[a]||(this._delegates[a]=f(this,a),e(this,this.services[a],this._delegates[a])),this},d.canExecute=i,d.createCanExecute=j,b.exports=d},{"./promise":25,"./utils":28,roolio:5}],25:[function(a,b,c){!function(){"use strict";b.exports=Promise}()},{}],26:[function(a,b,c){function d(a){a=a||{},this._id=a.id||g(),this.modules=a.modules||new e}var e=a("./stateful-items"),f={};d.prototype.clear=function(){return f.hasOwnProperty(this._id)&&delete f[this._id],this},d.prototype.hasModule=function(a){return this.modules.hasItem(a)},d.prototype.getModule=function(a){return this.modules.getItem(a)},d.prototype.deleteModule=function(a){return this.modules.removeItem(a)},d.prototype.setModule=function(a,b,c){return this.modules.setItem(a,b,c)},d.prototype.getModuleState=function(a){return this.modules.getState(a)},d.prototype.hasModuleWithState=function(a,b){return this.modules.hasItemWithState(a,b)},d.prototype.getModuleWithState=function(a,b){return this.modules.getItemWithState(a,b)},d.getById=function(a){return a||(a=g()),f[a]||(f[a]=new d({id:a}))},d.clearById=function(a){return f.hasOwnProperty(a)?f[a].clear():void 0},d.idGenerator=function(a,b){a=(a||"generic")+"-";var c=b||0;return function(){return a+c++}};var g=d.idGenerator();b.exports=d},{"./stateful-items":27}],27:[function(a,b,c){function d(a){this.items=a||{}}d.prototype.getState=function(a){if(!this.hasItem(a))throw new TypeError("`"+a+"` not found");return this.items[a].state},d.prototype.hasItemWithState=function(a,b){return this.hasItem(b)&&this.items[b].state===a},d.prototype.getItemWithState=function(a,b){if(!this.hasItemWithState(a,b))throw new TypeError("`"+b+"` is not "+a);return this.items[b].item},d.prototype.hasItem=function(a){return this.items.hasOwnProperty(a)},d.prototype.getItem=function(a){if(!this.hasItem(a))throw new TypeError("`"+a+"` not found");return this.items[a].item},d.prototype.removeItem=function(a){if(!this.items.hasOwnProperty(a))throw new TypeError("`"+a+"` cannot be removed - not found");var b=this.items[a];return delete this.items[a],b.item},d.prototype.setItem=function(a,b,c){return(this.items[b]={item:c,state:a}).item},b.exports=d},{}],28:[function(a,b,c){function d(){}function e(a){return null===a||void 0===a}function f(a){return null===a}function g(a){return a instanceof Array}function h(a){return"string"==typeof a}function i(a){return"object"==typeof a}function j(a){return!!a&&!g(a)&&a.toString()===t}function k(a){return!e(a)&&a.constructor===Function}function l(a){return a instanceof Date}function m(a,b,c){return"function"===k(a)?a.apply(c,b||[]):a[b]}function n(a){return g(a)?a:Object.keys(a).map(function(b){return a[b]})}function o(a){var b,c,d,e=arguments;for(a=a||{},d=1,c=e.length;c>d;d++){b=e[d];for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f])}return a}function p(a){var b,c,d,e=arguments;for(a=a||{},d=1,c=e.length;c>d;d++){b=e[d];for(var f in b)b.hasOwnProperty(f)&&(j(b[f])?a[f]=p(a[f],b[f]):a[f]=b[f])}return a}function q(a){return a&&!a.handled&&(a.handled=!0,a.stack?console.log(a.stack):console.error(a)),a}function r(a){return a}function s(a){throw new TypeError("Not implemented. "+a)}var t=Object.prototype.toString();b.exports={isNil:e,isNull:f,isArray:g,isString:h,isObject:i,isPlainObject:j,isFunction:k,isDate:l,toArray:n,noop:d,result:m,extend:o,merge:p,reportError:q,forwardError:r,notImplemented:s}},{}],29:[function(a,b,c){!function(a,d){return"object"==typeof c&&"object"==typeof b?d(c):"function"==typeof define&&define.amd?define(["exports"],d):void d(a.acorn||(a.acorn={}))}(this,function(a){"use strict";function b(a){ab={};for(var b in eb)ab[b]=a&&Y(a,b)?a[b]:eb[b];if(db=ab.sourceFile||null,fb(ab.onToken)){var c=ab.onToken;ab.onToken=function(a){c.push(a)}}if(fb(ab.onComment)){var d=ab.onComment;ab.onComment=function(a,b,c,e,f,g){var h={type:a?"Block":"Line",value:b,start:c,end:e};ab.locations&&(h.loc=new M,h.loc.start=f,h.loc.end=g),ab.ranges&&(h.range=[c,e]),d.push(h)}}Yc=ab.ecmaVersion>=6?Xc:Wc}function c(){this.type=mb,this.value=nb,this.start=ib,this.end=jb,ab.locations&&(this.loc=new M,this.loc.end=lb,this.startLoc=kb,this.endLoc=lb),ab.ranges&&(this.range=[ib,jb])}function d(){rb=sb=hb,ab.locations&&(tb=h()),ub=vb=xb=!1,wb=[],m(),w()}function e(a,b){var c=gb(bb,a);b+=" ("+c.line+":"+c.column+")";var d=new SyntaxError(b);throw d.pos=a,d.loc=c,d.raisedAt=hb,d}function f(a){function b(a){if(1==a.length)return c+="return str === "+JSON.stringify(a[0])+";";c+="switch(str){";for(var b=0;b<a.length;++b)c+="case "+JSON.stringify(a[b])+":";c+="return true}return false;"}a=a.split(" ");var c="",d=[];
a:for(var e=0;e<a.length;++e){for(var f=0;f<d.length;++f)if(d[f][0].length==a[e].length){d[f].push(a[e]);continue a}d.push([a[e]])}if(d.length>3){d.sort(function(a,b){return b.length-a.length}),c+="switch(str.length){";for(var e=0;e<d.length;++e){var g=d[e];c+="case "+g[0].length+":",b(g)}c+="}"}else b(a);return new Function("str",c)}function g(a,b){this.line=a,this.column=b}function h(){return new g(pb,hb-qb)}function i(a){a?(hb=a,qb=Math.max(0,bb.lastIndexOf("\n",a)),pb=bb.slice(0,qb).split(cd).length):(pb=1,hb=qb=0),ob=!0,yb=0,zb=[]}function j(a,b,d){jb=hb,ab.locations&&(lb=h()),mb=a,d!==!1&&m(),nb=b,ob=a.beforeExpr,ab.onToken&&ab.onToken(new c)}function k(){var a=ab.onComment&&ab.locations&&h(),b=hb,c=bb.indexOf("*/",hb+=2);if(-1===c&&e(hb-2,"Unterminated comment"),hb=c+2,ab.locations){dd.lastIndex=b;for(var d;(d=dd.exec(bb))&&d.index<hb;)++pb,qb=d.index+d[0].length}ab.onComment&&ab.onComment(!0,bb.slice(b+2,c),b,hb,a,ab.locations&&h())}function l(a){for(var b=hb,c=ab.onComment&&ab.locations&&h(),d=bb.charCodeAt(hb+=a);cb>hb&&10!==d&&13!==d&&8232!==d&&8233!==d;)++hb,d=bb.charCodeAt(hb);ab.onComment&&ab.onComment(!1,bb.slice(b+a,hb),b,hb,c,ab.locations&&h())}function m(){for(;cb>hb;){var a=bb.charCodeAt(hb);if(32===a)++hb;else if(13===a){++hb;var b=bb.charCodeAt(hb);10===b&&++hb,ab.locations&&(++pb,qb=hb)}else if(10===a||8232===a||8233===a)++hb,ab.locations&&(++pb,qb=hb);else if(a>8&&14>a)++hb;else if(47===a){var b=bb.charCodeAt(hb+1);if(42===b)k();else{if(47!==b)break;l(2)}}else if(160===a)++hb;else{if(!(a>=5760&&Zc.test(String.fromCharCode(a))))break;++hb}}}function n(){var a=bb.charCodeAt(hb+1);if(a>=48&&57>=a)return B(!0);var b=bb.charCodeAt(hb+2);return ab.ecmaVersion>=6&&46===a&&46===b?(hb+=3,j(zc)):(++hb,j(uc))}function o(){var a=bb.charCodeAt(hb+1);return ob?(++hb,y()):61===a?x(Cc,2):x(Ac,1)}function p(a){var b=bb.charCodeAt(hb+1);return 61===b?x(Cc,2):x(42===a?Pc:Oc,1)}function q(a){var b=bb.charCodeAt(hb+1);return b===a?x(124===a?Fc:Gc,2):61===b?x(Cc,2):x(124===a?Hc:Jc,1)}function r(){var a=bb.charCodeAt(hb+1);return 61===a?x(Cc,2):x(Ic,1)}function s(a){var b=bb.charCodeAt(hb+1);return b===a?45==b&&62==bb.charCodeAt(hb+2)&&cd.test(bb.slice(sb,hb))?(l(3),m(),w()):x(Dc,2):61===b?x(Cc,2):x(Nc,1)}function t(a){var b=bb.charCodeAt(hb+1),c=1;return b===a?(c=62===a&&62===bb.charCodeAt(hb+2)?3:2,61===bb.charCodeAt(hb+c)?x(Cc,c+1):x(Mc,c)):33==b&&60==a&&45==bb.charCodeAt(hb+2)&&45==bb.charCodeAt(hb+3)?(l(4),m(),w()):(61===b&&(c=61===bb.charCodeAt(hb+2)?3:2),x(Lc,c))}function u(a){var b=bb.charCodeAt(hb+1);return 61===b?x(Kc,61===bb.charCodeAt(hb+2)?3:2):61===a&&62===b&&ab.ecmaVersion>=6?(hb+=2,j(wc)):x(61===a?Bc:Ec,1)}function v(a){switch(a){case 46:return n();case 40:return++hb,j(pc);case 41:return++hb,j(qc);case 59:return++hb,j(sc);case 44:return++hb,j(rc);case 91:return++hb,j(lc);case 93:return++hb,j(mc);case 123:return++hb,zb.length&&++zb[zb.length-1],j(nc);case 125:return++hb,zb.length&&0===--zb[zb.length-1]?E(yc):j(oc);case 58:return++hb,j(tc);case 63:return++hb,j(vc);case 96:if(ab.ecmaVersion>=6)return++hb,E(xc);case 48:var b=bb.charCodeAt(hb+1);if(120===b||88===b)return A(16);if(ab.ecmaVersion>=6){if(111===b||79===b)return A(8);if(98===b||66===b)return A(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return B(!1);case 34:case 39:return D(a);case 47:return o();case 37:case 42:return p(a);case 124:case 38:return q(a);case 94:return r();case 43:case 45:return s(a);case 60:case 62:return t(a);case 61:case 33:return u(a);case 126:return x(Ec,1)}return!1}function w(a){if(a?hb=ib+1:ib=hb,ab.locations&&(kb=h()),a)return y();if(hb>=cb)return j(Fb);var b=bb.charCodeAt(hb);if(ed(b)||92===b)return I();var c=v(b);if(c===!1){var d=String.fromCharCode(b);if("\\"===d||ad.test(d))return I();e(hb,"Unexpected character '"+d+"'")}return c}function x(a,b){var c=bb.slice(hb,hb+b);hb+=b,j(a,c)}function y(){for(var a,b,c="",d=hb;;){hb>=cb&&e(d,"Unterminated regular expression");var f=bb.charAt(hb);if(cd.test(f)&&e(d,"Unterminated regular expression"),a)a=!1;else{if("["===f)b=!0;else if("]"===f&&b)b=!1;else if("/"===f&&!b)break;a="\\"===f}++hb}var c=bb.slice(d,hb);++hb;var g=H(),h=c;if(g){var i=/^[gmsiy]*$/;ab.ecmaVersion>=6&&(i=/^[gmsiyu]*$/),i.test(g)||e(d,"Invalid regular expression flag"),g.indexOf("u")>=0&&!gd&&(h=h.replace(/\\u\{([0-9a-fA-F]{5,6})\}/g,"x").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"))}try{new RegExp(h)}catch(k){k instanceof SyntaxError&&e(d,"Error parsing regular expression: "+k.message),e(k)}try{var l=new RegExp(c,g)}catch(m){l=null}return j(Cb,{pattern:c,flags:g,value:l})}function z(a,b){for(var c=hb,d=0,e=0,f=null==b?1/0:b;f>e;++e){var g,h=bb.charCodeAt(hb);if(g=h>=97?h-97+10:h>=65?h-65+10:h>=48&&57>=h?h-48:1/0,g>=a)break;++hb,d=d*a+g}return hb===c||null!=b&&hb-c!==b?null:d}function A(a){hb+=2;var b=z(a);return null==b&&e(ib+2,"Expected number in radix "+a),ed(bb.charCodeAt(hb))&&e(hb,"Identifier directly after number"),j(Bb,b)}function B(a){var b=hb,c=!1,d=48===bb.charCodeAt(hb);a||null!==z(10)||e(b,"Invalid number"),46===bb.charCodeAt(hb)&&(++hb,z(10),c=!0);var f=bb.charCodeAt(hb);(69===f||101===f)&&(f=bb.charCodeAt(++hb),(43===f||45===f)&&++hb,null===z(10)&&e(b,"Invalid number"),c=!0),ed(bb.charCodeAt(hb))&&e(hb,"Identifier directly after number");var g,h=bb.slice(b,hb);return c?g=parseFloat(h):d&&1!==h.length?/[89]/.test(h)||xb?e(b,"Invalid number"):g=parseInt(h,8):g=parseInt(h,10),j(Bb,g)}function C(){var a,b=bb.charCodeAt(hb);if(123===b?(ab.ecmaVersion<6&&X(),++hb,a=G(bb.indexOf("}",hb)-hb),++hb,a>1114111&&X()):a=G(4),65535>=a)return String.fromCharCode(a);var c=(a-65536>>10)+55296,d=(a-65536&1023)+56320;return String.fromCharCode(c,d)}function D(a){++hb;for(var b="";;){hb>=cb&&e(ib,"Unterminated string constant");var c=bb.charCodeAt(hb);if(c===a)return++hb,j(Db,b);92===c?b+=F():(++hb,cd.test(String.fromCharCode(c))&&e(ib,"Unterminated string constant"),b+=String.fromCharCode(c))}}function E(a){a==yc&&zb.pop();for(var b="",c=hb;;){hb>=cb&&e(ib,"Unterminated template");var d=bb.charAt(hb);if("`"===d||"$"===d&&123===bb.charCodeAt(hb+1)){var f=bb.slice(c,hb);return++hb,"$"==d&&(++hb,zb.push(1)),j(a,{cooked:b,raw:f})}"\\"===d?b+=F():(++hb,cd.test(d)&&("\r"===d&&10===bb.charCodeAt(hb)&&(++hb,d="\n"),ab.locations&&(++pb,qb=hb)),b+=d)}}function F(){var a=bb.charCodeAt(++hb),b=/^[0-7]+/.exec(bb.slice(hb,hb+3));for(b&&(b=b[0]);b&&parseInt(b,8)>255;)b=b.slice(0,-1);if("0"===b&&(b=null),++hb,b)return xb&&e(hb-2,"Octal literal in strict mode"),hb+=b.length-1,String.fromCharCode(parseInt(b,8));switch(a){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(G(2));case 117:return C();case 116:return"	";case 98:return"\b";case 118:return"";case 102:return"\f";case 48:return"\x00";case 13:10===bb.charCodeAt(hb)&&++hb;case 10:return ab.locations&&(qb=hb,++pb),"";default:return String.fromCharCode(a)}}function G(a){var b=z(16,a);return null===b&&e(ib,"Bad character escape sequence"),b}function H(){id=!1;for(var a,b=!0,c=hb;;){var d=bb.charCodeAt(hb);if(fd(d))id&&(a+=bb.charAt(hb)),++hb;else{if(92!==d)break;id||(a=bb.slice(c,hb)),id=!0,117!=bb.charCodeAt(++hb)&&e(hb,"Expecting Unicode escape sequence \\uXXXX"),++hb;var f=G(4),g=String.fromCharCode(f);g||e(hb-1,"Invalid Unicode escape"),(b?ed(f):fd(f))||e(hb-4,"Invalid Unicode escape"),a+=g}b=!1}return id?a:bb.slice(c,hb)}function I(){var a=H(),b=Eb;return!id&&Yc(a)&&(b=kc[a]),j(b,a)}function J(){rb=ib,sb=jb,tb=lb,w()}function K(a){if(xb=a,hb=ib,ab.locations)for(;qb>hb;)qb=bb.lastIndexOf("\n",qb-2)+1,--pb;m(),w()}function L(){this.type=null,this.start=ib,this.end=null}function M(){this.start=kb,this.end=null,null!==db&&(this.source=db)}function N(){var a=new L;return ab.locations&&(a.loc=new M),ab.directSourceFile&&(a.sourceFile=ab.directSourceFile),ab.ranges&&(a.range=[ib,0]),a}function O(){return ab.locations?[ib,kb]:ib}function P(a){var b=new L,c=a;return ab.locations&&(b.loc=new M,b.loc.start=c[1],c=a[0]),b.start=c,ab.directSourceFile&&(b.sourceFile=ab.directSourceFile),ab.ranges&&(b.range=[c,0]),b}function Q(a,b){return a.type=b,a.end=sb,ab.locations&&(a.loc.end=tb),ab.ranges&&(a.range[1]=sb),a}function R(a,b,c){return ab.locations&&(a.loc.end=c[1],c=c[0]),a.type=b,a.end=c,ab.ranges&&(a.range[1]=c),a}function S(a){return ab.ecmaVersion>=5&&"ExpressionStatement"===a.type&&"Literal"===a.expression.type&&"use strict"===a.expression.value}function T(a){return mb===a?(J(),!0):!1}function U(){return!ab.strictSemicolons&&(mb===Fb||mb===oc||cd.test(bb.slice(sb,ib)))}function V(){T(sc)||U()||X()}function W(a){T(a)||X()}function X(a){e(null!=a?a:ib,"Unexpected token")}function Y(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function Z(a,b,c){if(ab.ecmaVersion>=6&&a)switch(a.type){case"Identifier":case"MemberExpression":break;case"ObjectExpression":a.type="ObjectPattern";for(var d=0;d<a.properties.length;d++){var e=a.properties[d];"init"!==e.kind&&X(e.key.start),Z(e.value,!1,c)}break;case"ArrayExpression":a.type="ArrayPattern";for(var d=0,f=a.elements.length-1;f>=d;d++)Z(a.elements[d],d===f,c);break;case"SpreadElement":b?(Z(a.argument,!1,c),$(a.argument)):X(a.start);break;default:c&&X(a.start)}return a}function $(a){"Identifier"!==a.type&&"ArrayPattern"!==a.type&&X(a.start)}function _(a,b){switch(a.type){case"Identifier":(Tc(a.name)||Uc(a.name))&&e(a.start,"Defining '"+a.name+"' in strict mode"),Y(b,a.name)&&e(a.start,"Argument name clash in strict mode"),b[a.name]=!0;break;case"ObjectPattern":for(var c=0;c<a.properties.length;c++)_(a.properties[c].value,b);break;case"ArrayPattern":for(var c=0;c<a.elements.length;c++){var d=a.elements[c];d&&_(d,b)}}}function aa(a,b){if(!(ab.ecmaVersion>=6)){var c,d=a.key;switch(d.type){case"Identifier":c=d.name;break;case"Literal":c=String(d.value);break;default:return}var f,g=a.kind||"init";if(Y(b,c)){f=b[c];var h="init"!==g;((xb||h)&&f[g]||!(h^f.init))&&e(d.start,"Redefinition of property")}else f=b[c]={init:!1,get:!1,set:!1};f[g]=!0}}function ba(a,b){switch(a.type){case"Identifier":xb&&(Uc(a.name)||Tc(a.name))&&e(a.start,b?"Binding "+a.name+" in strict mode":"Assigning to "+a.name+" in strict mode");break;case"MemberExpression":if(!b)break;case"ObjectPattern":for(var c=0;c<a.properties.length;c++)ba(a.properties[c].value,b);break;case"ArrayPattern":for(var c=0;c<a.elements.length;c++){var d=a.elements[c];d&&ba(d,b)}break;case"SpreadElement":break;default:e(a.start,"Assigning to rvalue")}}function ca(a){var b=!0;for(a.body||(a.body=[]);mb!==Fb;){var c=da(!0);a.body.push(c),b&&S(c)&&K(!0),b=!1}return rb=ib,sb=jb,tb=lb,Q(a,"Program")}function da(a){(mb===Ac||mb===Cc&&"/="==nb)&&w(!0);var b=mb,c=N();switch(b){case Gb:case Jb:return ea(c,b.keyword);case Kb:return fa(c);case Mb:return ga(c);case Pb:return ha(c);case Qb:return ia(c);case bc:return Ta(c,!0);case Rb:return ja(c);case Sb:return ka(c);case Tb:return la(c);case Ub:return ma(c);case Vb:return na(c);case Wb:case Xb:case Yb:return oa(c,b.keyword);case Zb:return pa(c);case $b:return qa(c);case nc:return va();case sc:return ra(c);case dc:case ec:return a||ab.allowImportExportEverywhere||e(ib,"'import' and 'export' may only appear at the top level"),b===ec?Ya(c):Wa(c);default:var d=nb,f=za();return b===Eb&&"Identifier"===f.type&&T(tc)?sa(c,d,f):ta(c,f)}}function ea(a,b){var c="break"==b;J(),T(sc)||U()?a.label=null:mb!==Eb?X():(a.label=Va(),V());for(var d=0;d<wb.length;++d){var f=wb[d];if(null==a.label||f.name===a.label.name){if(null!=f.kind&&(c||"loop"===f.kind))break;if(a.label&&c)break}}return d===wb.length&&e(a.start,"Unsyntactic "+b),Q(a,c?"BreakStatement":"ContinueStatement")}function fa(a){return J(),V(),Q(a,"DebuggerStatement")}function ga(a){return J(),wb.push(jd),a.body=da(),wb.pop(),W(Zb),a.test=ua(),ab.ecmaVersion>=6?T(sc):V(),Q(a,"DoWhileStatement")}function ha(a){if(J(),wb.push(jd),W(pc),mb===sc)return wa(a,null);if(mb===Wb||mb===Xb){var b=N(),c=mb.keyword,d=mb===Xb;return J(),ya(b,!0,c),Q(b,"VariableDeclaration"),!(mb===jc||ab.ecmaVersion>=6&&mb===Eb&&"of"===nb)||1!==b.declarations.length||d&&b.declarations[0].init?wa(a,b):xa(a,b)}var b=za(!1,!0);return mb===jc||ab.ecmaVersion>=6&&mb===Eb&&"of"===nb?(ba(b),xa(a,b)):wa(a,b)}function ia(a){return J(),Oa(a,!0)}function ja(a){return J(),a.test=ua(),a.consequent=da(),a.alternate=T(Nb)?da():null,Q(a,"IfStatement")}function ka(a){return ub||ab.allowReturnOutsideFunction||e(ib,"'return' outside of function"),J(),T(sc)||U()?a.argument=null:(a.argument=za(),V()),Q(a,"ReturnStatement")}function la(a){J(),a.discriminant=ua(),a.cases=[],W(nc),wb.push(kd);for(var b,c;mb!=oc;)if(mb===Hb||mb===Lb){var d=mb===Hb;b&&Q(b,"SwitchCase"),a.cases.push(b=N()),b.consequent=[],J(),d?b.test=za():(c&&e(rb,"Multiple default clauses"),c=!0,b.test=null),W(tc)}else b||X(),b.consequent.push(da());return b&&Q(b,"SwitchCase"),J(),wb.pop(),Q(a,"SwitchStatement")}function ma(a){return J(),cd.test(bb.slice(sb,ib))&&e(sb,"Illegal newline after throw"),a.argument=za(),V(),Q(a,"ThrowStatement")}function na(a){if(J(),a.block=va(),a.handler=null,mb===Ib){var b=N();J(),W(pc),b.param=Va(),xb&&Uc(b.param.name)&&e(b.param.start,"Binding "+b.param.name+" in strict mode"),W(qc),b.guard=null,b.body=va(),a.handler=Q(b,"CatchClause")}return a.guardedHandlers=Ab,a.finalizer=T(Ob)?va():null,a.handler||a.finalizer||e(a.start,"Missing catch or finally clause"),Q(a,"TryStatement")}function oa(a,b){return J(),ya(a,!1,b),V(),Q(a,"VariableDeclaration")}function pa(a){return J(),a.test=ua(),wb.push(jd),a.body=da(),wb.pop(),Q(a,"WhileStatement")}function qa(a){return xb&&e(ib,"'with' in strict mode"),J(),a.object=ua(),a.body=da(),Q(a,"WithStatement")}function ra(a){return J(),Q(a,"EmptyStatement")}function sa(a,b,c){for(var d=0;d<wb.length;++d)wb[d].name===b&&e(c.start,"Label '"+b+"' is already declared");var f=mb.isLoop?"loop":mb===Tb?"switch":null;return wb.push({name:b,kind:f}),a.body=da(),wb.pop(),a.label=c,Q(a,"LabeledStatement")}function ta(a,b){return a.expression=b,V(),Q(a,"ExpressionStatement")}function ua(){W(pc);var a=za();return W(qc),a}function va(a){var b,c=N(),d=!0;for(c.body=[],W(nc);!T(oc);){var e=da();c.body.push(e),d&&a&&S(e)&&(b=xb,K(xb=!0)),d=!1}return b===!1&&K(!1),Q(c,"BlockStatement")}function wa(a,b){return a.init=b,W(sc),a.test=mb===sc?null:za(),W(sc),a.update=mb===qc?null:za(),W(qc),a.body=da(),wb.pop(),Q(a,"ForStatement")}function xa(a,b){var c=mb===jc?"ForInStatement":"ForOfStatement";return J(),a.left=b,a.right=za(),W(qc),a.body=da(),wb.pop(),Q(a,c)}function ya(a,b,c){for(a.declarations=[],a.kind=c;;){var d=N();if(d.id=ab.ecmaVersion>=6?Z(Ha()):Va(),ba(d.id,!0),d.init=T(Bc)?za(!0,b):c===Yb.keyword?X():null,a.declarations.push(Q(d,"VariableDeclarator")),!T(rc))break}return a}function za(a,b){var c=O(),d=Aa(b);if(!a&&mb===rc){var e=P(c);for(e.expressions=[d];T(rc);)e.expressions.push(Aa(b));return Q(e,"SequenceExpression")}return d}function Aa(a){var b=O(),c=Ba(a);if(mb.isAssign){var d=P(b);return d.operator=nb,d.left=mb===Bc?Z(c):c,ba(c),J(),d.right=Aa(a),Q(d,"AssignmentExpression")}return c}function Ba(a){var b=O(),c=Ca(a);if(T(vc)){var d=P(b);return d.test=c,d.consequent=za(!0),W(tc),d.alternate=za(!0,a),Q(d,"ConditionalExpression")}return c}function Ca(a){var b=O();return Da(Ea(),b,-1,a)}function Da(a,b,c,d){var e=mb.binop;if(null!=e&&(!d||mb!==jc)&&e>c){var f=P(b);f.left=a,f.operator=nb;var g=mb;J();var h=O();return f.right=Da(Ea(),h,e,d),Q(f,g===Fc||g===Gc?"LogicalExpression":"BinaryExpression"),Da(f,b,c,d)}return a}function Ea(){if(mb.prefix){var a,b=N(),c=mb.isUpdate;return mb===zc?a="SpreadElement":(a=c?"UpdateExpression":"UnaryExpression",b.operator=nb,b.prefix=!0),ob=!0,J(),b.argument=Ea(),c?ba(b.argument):xb&&"delete"===b.operator&&"Identifier"===b.argument.type&&e(b.start,"Deleting local variable in strict mode"),Q(b,a)}for(var d=O(),f=Fa();mb.postfix&&!U();){var b=P(d);b.operator=nb,b.prefix=!1,b.argument=f,ba(f),J(),f=Q(b,"UpdateExpression")}return f}function Fa(){var a=O();return Ga(Ha(),a)}function Ga(a,b,c){if(T(uc)){var d=P(b);return d.object=a,d.property=Va(!0),d.computed=!1,Ga(Q(d,"MemberExpression"),b,c)}if(T(lc)){var d=P(b);return d.object=a,d.property=za(),d.computed=!0,W(mc),Ga(Q(d,"MemberExpression"),b,c)}if(!c&&T(pc)){var d=P(b);return d.callee=a,d.arguments=Ua(qc,!1),Ga(Q(d,"CallExpression"),b,c)}if(mb===xc){var d=P(b);return d.tag=a,d.quasi=Ka(),Ga(Q(d,"TaggedTemplateExpression"),b,c)}return a}function Ha(){switch(mb){case ac:var a=N();return J(),Q(a,"ThisExpression");case fc:if(vb)return $a();case Eb:var b=O(),c=Va(mb!==Eb);return T(wc)?Qa(P(b),[c]):c;case Cb:var a=N();return a.regex={pattern:nb.pattern,flags:nb.flags},a.value=nb.value,a.raw=bb.slice(ib,jb),J(),Q(a,"Literal");case Bb:case Db:var a=N();return a.value=nb,a.raw=bb.slice(ib,jb),J(),Q(a,"Literal");case gc:case hc:case ic:var a=N();return a.value=mb.atomValue,a.raw=mb.keyword,J(),Q(a,"Literal");case pc:var d,e,b=O();if(J(),ab.ecmaVersion>=7&&mb===Pb)d=_a(P(b),!0);else{var f=++yb;if(mb!==qc?(d=za(),e="SequenceExpression"===d.type?d.expressions:[d]):e=[],W(qc),yb===f&&T(wc))d=Qa(P(b),e);else{if(d||X(rb),ab.ecmaVersion>=6)for(var g=0;g<e.length;g++)"SpreadElement"===e[g].type&&X();if(ab.preserveParens){var h=P(b);h.expression=d,d=Q(h,"ParenthesizedExpression")}}}return d;case lc:var a=N();return J(),ab.ecmaVersion>=7&&mb===Pb?_a(a,!1):(a.elements=Ua(mc,!0,!0),Q(a,"ArrayExpression"));case nc:return La();case Qb:var a=N();return J(),Oa(a,!1);case bc:return Ta(N(),!1);case _b:return Ia();case xc:return Ka();default:X()}}function Ia(){var a=N();J();var b=O();return a.callee=Ga(Ha(),b,!0),T(pc)?a.arguments=Ua(qc,!1):a.arguments=Ab,Q(a,"NewExpression")}function Ja(){var a=P(ab.locations?[ib+1,kb.offset(1)]:ib+1);a.value=nb,a.tail=123!==bb.charCodeAt(jb-1),J();var b=a.tail?1:2;return R(a,"TemplateElement",ab.locations?[sb-b,tb.offset(-b)]:sb-b)}function Ka(){var a=N();a.expressions=[];var b=Ja();for(a.quasis=[b];!b.tail;)a.expressions.push(za()),mb!==yc&&X(),a.quasis.push(b=Ja());return Q(a,"TemplateLiteral")}function La(){var a=N(),b=!0,c={};for(a.properties=[],J();!T(oc);){if(b)b=!1;else if(W(rc),ab.allowTrailingCommas&&T(oc))break;var d,e=N();ab.ecmaVersion>=6&&(e.method=!1,e.shorthand=!1,d=T(Pc)),Ma(e),T(tc)?(e.value=za(!0),e.kind="init"):ab.ecmaVersion>=6&&mb===pc?(e.kind="init",e.method=!0,e.value=Pa(d)):ab.ecmaVersion>=5&&!e.computed&&"Identifier"===e.key.type&&("get"===e.key.name||"set"===e.key.name)?(d&&X(),e.kind=e.key.name,Ma(e),e.value=Pa(!1)):ab.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?(e.kind="init",e.value=e.key,e.shorthand=!0):X(),aa(e,c),a.properties.push(Q(e,"Property"))}return Q(a,"ObjectExpression")}function Ma(a){if(ab.ecmaVersion>=6){if(T(lc))return a.computed=!0,a.key=za(),void W(mc);a.computed=!1}a.key=mb===Bb||mb===Db?Ha():Va(!0)}function Na(a){a.id=null,a.params=[],ab.ecmaVersion>=6&&(a.defaults=[],a.rest=null,a.generator=!1)}function Oa(a,b,c){return Na(a),ab.ecmaVersion>=6&&(a.generator=T(Pc)),(b||mb===Eb)&&(a.id=Va()),Ra(a),Sa(a,c),Q(a,b?"FunctionDeclaration":"FunctionExpression")}function Pa(a){var b=N();Na(b),Ra(b);var c;return ab.ecmaVersion>=6?(b.generator=a,c=!0):c=!1,Sa(b,c),Q(b,"FunctionExpression")}function Qa(a,b){Na(a);for(var c=a.defaults,d=!1,e=0,f=b.length-1;f>=e;e++){var g=b[e];if("AssignmentExpression"===g.type&&"="===g.operator)d=!0,b[e]=g.left,c.push(g.right);else if(Z(g,e===f,!0),c.push(null),"SpreadElement"===g.type){b.length--,a.rest=g.argument;break}}return a.params=b,d||(a.defaults=[]),Sa(a,!0),Q(a,"ArrowFunctionExpression")}function Ra(a){var b=[],c=!1;for(W(pc);!T(qc);){if(ab.ecmaVersion>=6&&T(zc)){a.rest=Z(Ha(),!1,!0),$(a.rest),W(qc),b.push(null);break}if(a.params.push(ab.ecmaVersion>=6?Z(Ha(),!1,!0):Va()),ab.ecmaVersion>=6&&(T(Bc)?(c=!0,b.push(za(!0))):b.push(null)),!T(rc)){W(qc);break}}c&&(a.defaults=b)}function Sa(a,b){var c=b&&mb!==nc;if(c)a.body=za(!0),a.expression=!0;else{var d=ub,e=vb,f=wb;ub=!0,vb=a.generator,wb=[],a.body=va(!0),a.expression=!1,ub=d,vb=e,wb=f}if(xb||!c&&a.body.body.length&&S(a.body.body[0])){var g={};a.id&&_(a.id,{});for(var h=0;h<a.params.length;h++)_(a.params[h],g);a.rest&&_(a.rest,g)}}function Ta(a,b){J(),a.id=mb===Eb?Va():b?X():null,a.superClass=T(cc)?za():null;var c=N();for(c.body=[],W(nc);!T(oc);){var d=N();mb===Eb&&"static"===nb?(J(),d["static"]=!0):d["static"]=!1;var e=T(Pc);Ma(d),mb===pc||d.computed||"Identifier"!==d.key.type||"get"!==d.key.name&&"set"!==d.key.name?d.kind="":(e&&X(),d.kind=d.key.name,Ma(d)),d.value=Pa(e),c.body.push(Q(d,"MethodDefinition")),T(sc)}return a.body=Q(c,"ClassBody"),Q(a,b?"ClassDeclaration":"ClassExpression")}function Ua(a,b,c){for(var d=[],e=!0;!T(a);){if(e)e=!1;else if(W(rc),b&&ab.allowTrailingCommas&&T(a))break;c&&mb===rc?d.push(null):d.push(za(!0))}return d}function Va(a){var b=N();return a&&"everywhere"==ab.forbidReserved&&(a=!1),mb===Eb?(!a&&(ab.forbidReserved&&(3===ab.ecmaVersion?Rc:Sc)(nb)||xb&&Tc(nb))&&-1==bb.slice(ib,jb).indexOf("\\")&&e(ib,"The keyword '"+nb+"' is reserved"),b.name=nb):a&&mb.keyword?b.name=mb.keyword:X(),ob=!1,J(),Q(b,"Identifier")}function Wa(a){if(J(),mb===Wb||mb===Yb||mb===Xb||mb===Qb||mb===bc)a.declaration=da(),a["default"]=!1,a.specifiers=null,a.source=null;else if(T(Lb))a.declaration=za(!0),a["default"]=!0,a.specifiers=null,a.source=null,V();else{var b=mb===Pc;a.declaration=null,a["default"]=!1,a.specifiers=Xa(),mb===Eb&&"from"===nb?(J(),a.source=mb===Db?Ha():X()):(b&&X(),a.source=null),V()}return Q(a,"ExportDeclaration")}function Xa(){var a=[],b=!0;if(mb===Pc){var c=N();J(),a.push(Q(c,"ExportBatchSpecifier"))}else for(W(nc);!T(oc);){if(b)b=!1;else if(W(rc),ab.allowTrailingCommas&&T(oc))break;var c=N();c.id=Va(mb===Lb),mb===Eb&&"as"===nb?(J(),c.name=Va(!0)):c.name=null,a.push(Q(c,"ExportSpecifier"))}return a}function Ya(a){return J(),mb===Db?(a.specifiers=[],a.source=Ha(),a.kind=""):(a.specifiers=Za(),(mb!==Eb||"from"!==nb)&&X(),J(),a.source=mb===Db?Ha():X()),V(),Q(a,"ImportDeclaration")}function Za(){var a=[],b=!0;if(mb===Eb){var c=N();if(c.id=Va(),ba(c.id,!0),c.name=null,c["default"]=!0,a.push(Q(c,"ImportSpecifier")),!T(rc))return a}if(mb===Pc){var c=N();return J(),(mb!==Eb||"as"!==nb)&&X(),J(),c.name=Va(),ba(c.name,!0),a.push(Q(c,"ImportBatchSpecifier")),a}for(W(nc);!T(oc);){if(b)b=!1;else if(W(rc),ab.allowTrailingCommas&&T(oc))break;var c=N();c.id=Va(!0),mb===Eb&&"as"===nb?(J(),c.name=Va()):c.name=null,ba(c.name||c.id,!0),c["default"]=!1,a.push(Q(c,"ImportSpecifier"))}return a}function $a(){var a=N();return J(),T(sc)||U()?(a.delegate=!1,a.argument=null):(a.delegate=T(Pc),a.argument=za(!0)),Q(a,"YieldExpression")}function _a(a,b){for(a.blocks=[];mb===Pb;){var c=N();J(),W(pc),c.left=Z(Ha()),ba(c.left,!0),(mb!==Eb||"of"!==nb)&&X(),J(),c.of=!0,c.right=za(),W(qc),a.blocks.push(Q(c,"ComprehensionBlock"))}return a.filter=T(Rb)?ua():null,a.body=za(),W(b?qc:mc),a.generator=b,Q(a,"ComprehensionExpression")}a.version="0.11.0";var ab,bb,cb,db;a.parse=function(a,c){bb=String(a),cb=bb.length,b(c),i();var e=ab.locations?[hb,h()]:hb;return d(),ca(ab.program||P(e))};var eb=a.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};a.parseExpressionAt=function(a,c,e){return bb=String(a),cb=bb.length,b(e),i(c),d(),za()};var fb=function(a){return"[object Array]"===Object.prototype.toString.call(a)},gb=a.getLineInfo=function(a,b){for(var c=1,d=0;;){dd.lastIndex=d;var e=dd.exec(a);if(!(e&&e.index<b))break;++c,d=e.index+e[0].length}return{line:c,column:b-d}};a.Token=c,a.tokenize=function(a,d){function e(a){return sb=jb,w(a),new c}return bb=String(a),cb=bb.length,b(d),i(),m(),e.jumpTo=function(a,b){if(hb=a,ab.locations){pb=1,qb=dd.lastIndex=0;for(var c;(c=dd.exec(bb))&&c.index<a;)++pb,qb=c.index+c[0].length}ob=b,m()},e.noRegexp=function(){ob=!1},e.options=ab,e};var hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab=[],Bb={type:"num"},Cb={type:"regexp"},Db={type:"string"},Eb={type:"name"},Fb={type:"eof"},Gb={keyword:"break"},Hb={keyword:"case",beforeExpr:!0},Ib={keyword:"catch"},Jb={keyword:"continue"},Kb={keyword:"debugger"},Lb={keyword:"default"},Mb={keyword:"do",isLoop:!0},Nb={keyword:"else",beforeExpr:!0},Ob={keyword:"finally"},Pb={keyword:"for",isLoop:!0},Qb={keyword:"function"},Rb={keyword:"if"},Sb={keyword:"return",beforeExpr:!0},Tb={keyword:"switch"},Ub={keyword:"throw",beforeExpr:!0},Vb={keyword:"try"},Wb={keyword:"var"},Xb={keyword:"let"},Yb={keyword:"const"},Zb={keyword:"while",isLoop:!0},$b={keyword:"with"},_b={keyword:"new",beforeExpr:!0},ac={keyword:"this"},bc={keyword:"class"},cc={keyword:"extends",beforeExpr:!0},dc={keyword:"export"},ec={keyword:"import"},fc={keyword:"yield",beforeExpr:!0},gc={keyword:"null",atomValue:null},hc={keyword:"true",atomValue:!0},ic={keyword:"false",atomValue:!1},jc={keyword:"in",binop:7,beforeExpr:!0},kc={"break":Gb,"case":Hb,"catch":Ib,"continue":Jb,"debugger":Kb,"default":Lb,"do":Mb,"else":Nb,"finally":Ob,"for":Pb,"function":Qb,"if":Rb,"return":Sb,"switch":Tb,"throw":Ub,"try":Vb,"var":Wb,let:Xb,"const":Yb,"while":Zb,"with":$b,"null":gc,"true":hc,"false":ic,"new":_b,"in":jc,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":ac,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0},"class":bc,"extends":cc,"export":dc,"import":ec,"yield":fc},lc={type:"[",beforeExpr:!0},mc={type:"]"},nc={type:"{",beforeExpr:!0},oc={type:"}"},pc={type:"(",beforeExpr:!0},qc={type:")"},rc={type:",",beforeExpr:!0},sc={type:";",beforeExpr:!0},tc={type:":",beforeExpr:!0},uc={type:"."},vc={type:"?",beforeExpr:!0},wc={type:"=>",beforeExpr:!0},xc={type:"template"},yc={type:"templateContinued"},zc={type:"...",prefix:!0,beforeExpr:!0},Ac={binop:10,beforeExpr:!0},Bc={isAssign:!0,beforeExpr:!0},Cc={isAssign:!0,beforeExpr:!0},Dc={postfix:!0,prefix:!0,isUpdate:!0},Ec={prefix:!0,beforeExpr:!0},Fc={binop:1,beforeExpr:!0},Gc={binop:2,beforeExpr:!0},Hc={binop:3,beforeExpr:!0},Ic={binop:4,beforeExpr:!0},Jc={binop:5,beforeExpr:!0},Kc={binop:6,beforeExpr:!0},Lc={binop:7,beforeExpr:!0},Mc={binop:8,beforeExpr:!0},Nc={binop:9,prefix:!0,beforeExpr:!0},Oc={binop:10,beforeExpr:!0},Pc={binop:10,beforeExpr:!0};a.tokTypes={bracketL:lc,bracketR:mc,braceL:nc,braceR:oc,parenL:pc,parenR:qc,comma:rc,semi:sc,colon:tc,dot:uc,ellipsis:zc,question:vc,slash:Ac,eq:Bc,name:Eb,eof:Fb,num:Bb,regexp:Cb,string:Db,arrow:wc,template:xc,templateContinued:yc,star:Pc,assign:Cc};for(var Qc in kc)a.tokTypes["_"+Qc]=kc[Qc];var Rc=f("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Sc=f("class enum extends super const export import"),Tc=f("implements interface let package private protected public static yield"),Uc=f("eval arguments"),Vc="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Wc=f(Vc),Xc=f(Vc+" let const class extends export import yield"),Yc=Wc,Zc=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,$c="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",_c="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏ᦰ-ᧀᧈᧉ᧐-᧙ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︭︳︴﹍-﹏０-９＿",ad=new RegExp("["+$c+"]"),bd=new RegExp("["+$c+_c+"]"),cd=/[\n\r\u2028\u2029]/,dd=/\r\n|[\n\r\u2028\u2029]/g,ed=a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:a>=170&&ad.test(String.fromCharCode(a))},fd=a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:a>=170&&bd.test(String.fromCharCode(a))};g.prototype.offset=function(a){return new g(this.line,this.column+a)};var gd=!1;try{new RegExp("￿","u"),gd=!0}catch(hd){}var id;a.Node=L;var jd={kind:"loop"},kd={kind:"switch"}})},{}],30:[function(a,b,c){!function(a){return"object"==typeof c&&"object"==typeof b?a(c):"function"==typeof define&&define.amd?define(["exports"],a):void a((this.acorn||(this.acorn={})).walk={})}(function(a){"use strict";function b(a){return"string"==typeof a?function(b){return b==a}:a?a:function(){return!0}}function c(a,b){this.node=a,this.state=b}function d(a,b,c){c(a,b)}function e(a,b,c){}function f(a,b){return{vars:Object.create(null),prev:a,isCatch:b}}function g(a){for(;a.isCatch;)a=a.prev;return a}a.simple=function(b,c,d,e){function f(a,b,e){var g=e||a.type,h=c[g];d[g](a,b,f),h&&h(a,b)}d||(d=a.base),f(b,e)},a.ancestor=function(b,c,d,e){function f(a,b,e){var g=e||a.type,h=c[g];a!=b[b.length-1]&&(b=b.slice(),b.push(a)),d[g](a,b,f),h&&h(a,b)}d||(d=a.base),e||(e=[]),f(b,e)},a.recursive=function(b,c,d,e){function f(a,b,c){g[c||a.type](a,b,f)}var g=d?a.make(d,e):e;f(b,c)},a.findNodeAt=function(d,e,f,g,h,i){g=b(g);try{h||(h=a.base);var j=function(a,b,d){var i=d||a.type;if((null==e||a.start<=e)&&(null==f||a.end>=f)&&h[i](a,b,j),g(i,a)&&(null==e||a.start==e)&&(null==f||a.end==f))throw new c(a,b)};j(d,i)}catch(k){if(k instanceof c)return k;throw k}},a.findNodeAround=function(d,e,f,g,h){f=b(f);try{g||(g=a.base);var i=function(a,b,d){var h=d||a.type;if(!(a.start>e||a.end<e)&&(g[h](a,b,i),f(h,a)))throw new c(a,b)};i(d,h)}catch(j){if(j instanceof c)return j;throw j}},a.findNodeAfter=function(d,e,f,g,h){f=b(f);try{g||(g=a.base);var i=function(a,b,d){if(!(a.end<e)){var h=d||a.type;if(a.start>=e&&f(h,a))throw new c(a,b);g[h](a,b,i)}};i(d,h)}catch(j){if(j instanceof c)return j;throw j}},a.findNodeBefore=function(d,e,f,g,h){f=b(f),g||(g=a.base);var i,j=function(a,b,d){if(!(a.start>e)){var h=d||a.type;a.end<=e&&(!i||i.node.end<a.end)&&f(h,a)&&(i=new c(a,b)),g[h](a,b,j)}};return j(d,h),i},a.make=function(b,c){c||(c=a.base);var d={};for(var e in c)d[e]=c[e];for(var e in b)d[e]=b[e];return d};var h=a.base={};h.Program=h.BlockStatement=function(a,b,c){for(var d=0;d<a.body.length;++d)c(a.body[d],b,"Statement")},h.Statement=d,h.EmptyStatement=e,h.ExpressionStatement=function(a,b,c){c(a.expression,b,"Expression")},h.IfStatement=function(a,b,c){c(a.test,b,"Expression"),c(a.consequent,b,"Statement"),a.alternate&&c(a.alternate,b,"Statement")},h.LabeledStatement=function(a,b,c){c(a.body,b,"Statement")},h.BreakStatement=h.ContinueStatement=e,h.WithStatement=function(a,b,c){c(a.object,b,"Expression"),c(a.body,b,"Statement")},h.SwitchStatement=function(a,b,c){c(a.discriminant,b,"Expression");for(var d=0;d<a.cases.length;++d){var e=a.cases[d];e.test&&c(e.test,b,"Expression");for(var f=0;f<e.consequent.length;++f)c(e.consequent[f],b,"Statement")}},h.ReturnStatement=h.YieldExpression=function(a,b,c){
a.argument&&c(a.argument,b,"Expression")},h.ThrowStatement=h.SpreadElement=function(a,b,c){c(a.argument,b,"Expression")},h.TryStatement=function(a,b,c){c(a.block,b,"Statement"),a.handler&&c(a.handler.body,b,"ScopeBody"),a.finalizer&&c(a.finalizer,b,"Statement")},h.WhileStatement=function(a,b,c){c(a.test,b,"Expression"),c(a.body,b,"Statement")},h.DoWhileStatement=h.WhileStatement,h.ForStatement=function(a,b,c){a.init&&c(a.init,b,"ForInit"),a.test&&c(a.test,b,"Expression"),a.update&&c(a.update,b,"Expression"),c(a.body,b,"Statement")},h.ForInStatement=h.ForOfStatement=function(a,b,c){c(a.left,b,"ForInit"),c(a.right,b,"Expression"),c(a.body,b,"Statement")},h.ForInit=function(a,b,c){"VariableDeclaration"==a.type?c(a,b):c(a,b,"Expression")},h.DebuggerStatement=e,h.FunctionDeclaration=function(a,b,c){c(a,b,"Function")},h.VariableDeclaration=function(a,b,c){for(var d=0;d<a.declarations.length;++d){var e=a.declarations[d];e.init&&c(e.init,b,"Expression")}},h.Function=function(a,b,c){c(a.body,b,"ScopeBody")},h.ScopeBody=function(a,b,c){c(a,b,"Statement")},h.Expression=d,h.ThisExpression=e,h.ArrayExpression=function(a,b,c){for(var d=0;d<a.elements.length;++d){var e=a.elements[d];e&&c(e,b,"Expression")}},h.ObjectExpression=function(a,b,c){for(var d=0;d<a.properties.length;++d)c(a.properties[d],b)},h.FunctionExpression=h.ArrowFunctionExpression=h.FunctionDeclaration,h.SequenceExpression=h.TemplateLiteral=function(a,b,c){for(var d=0;d<a.expressions.length;++d)c(a.expressions[d],b,"Expression")},h.UnaryExpression=h.UpdateExpression=function(a,b,c){c(a.argument,b,"Expression")},h.BinaryExpression=h.AssignmentExpression=h.LogicalExpression=function(a,b,c){c(a.left,b,"Expression"),c(a.right,b,"Expression")},h.ConditionalExpression=function(a,b,c){c(a.test,b,"Expression"),c(a.consequent,b,"Expression"),c(a.alternate,b,"Expression")},h.NewExpression=h.CallExpression=function(a,b,c){if(c(a.callee,b,"Expression"),a.arguments)for(var d=0;d<a.arguments.length;++d)c(a.arguments[d],b,"Expression")},h.MemberExpression=function(a,b,c){c(a.object,b,"Expression"),a.computed&&c(a.property,b,"Expression")},h.Identifier=h.Literal=h.ExportDeclaration=h.ImportDeclaration=e,h.TaggedTemplateExpression=function(a,b,c){c(a.tag,b,"Expression"),c(a.quasi,b)},h.ClassDeclaration=h.ClassExpression=function(a,b,c){a.superClass&&c(a.superClass,b,"Expression");for(var d=0;d<a.body.body.length;d++)c(a.body.body[d],b)},h.MethodDefinition=h.Property=function(a,b,c){a.computed&&c(a.key,b,"Expression"),c(a.value,b,"Expression")},h.ComprehensionExpression=function(a,b,c){for(var d=0;d<a.blocks.length;d++)c(a.blocks[d].right,b,"Expression");c(a.body,b,"Expression")},a.scopeVisitor=a.make({Function:function(a,b,c){for(var d=f(b),e=0;e<a.params.length;++e)d.vars[a.params[e].name]={type:"argument",node:a.params[e]};if(a.id){var h="FunctionDeclaration"==a.type;(h?g(b):d).vars[a.id.name]={type:h?"function":"function name",node:a.id}}c(a.body,d,"ScopeBody")},TryStatement:function(a,b,c){if(c(a.block,b,"Statement"),a.handler){var d=f(b,!0);d.vars[a.handler.param.name]={type:"catch clause",node:a.handler.param},c(a.handler.body,d,"ScopeBody")}a.finalizer&&c(a.finalizer,b,"Statement")},VariableDeclaration:function(a,b,c){for(var d=g(b),e=0;e<a.declarations.length;++e){var f=a.declarations[e];d.vars[f.id.name]={type:"var",node:f.id},f.init&&c(f.init,b,"Expression")}}})})},{}],31:[function(a,b,c){!function(){"use strict";function c(a,b){return c.walk(i.parse(a,b))}function d(a,b){return h.Identifier===a.type&&b===a.name}function e(a){return 1===a.length&&h.Literal===a[0].type?a[0].value:void 0}function f(a){var b,c,d;if(g(a[0])?b=a[0].elements:g(a[1])&&(b=a[1].elements),b)for(c=0,d=b.length;d>c;c++)b[c]=b[c].value;return b}function g(a){return a&&h.ArrayExpression===a.type}var h={_define:"define",_require:"require",Identifier:"Identifier",Literal:"Literal",ArrayExpression:"ArrayExpression"},i=a("acorn"),j=a("acorn/util/walk");c.walk=function(a){function b(a){if(d(a.callee,h._require)){var b=e(a.arguments);b&&c.dependencies.push(b)}else if(d(a.callee,h._define)){var g=f(a.arguments);g&&g.length&&(c.dependencies=c.dependencies.concat(g))}}var c={dependencies:[]};return j.simple(a,{CallExpression:b}),c},b.exports=c}()},{acorn:29,"acorn/util/walk":30}],32:[function(a,b,c){function d(a){e(a,this.options)}function e(a,b){b=b||{},g(a,b.ignore)||f(a,h(a.source,b).dependencies)}function f(a,b){b.length&&(a.deps=a.deps.concat(b))}function g(a,b){return b&&b.length&&-1!==b.indexOf(a.name)}var h=a("pulling-deps");d.config=function(a){return function(b){e(b,a)}},b.exports=d},{"pulling-deps":31}],33:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:34}],34:[function(a,b,c){function d(){k=!1,h.length?j=h.concat(j):l=-1,j.length&&e()}function e(){if(!k){var a=setTimeout(d);k=!0;for(var b=j.length;b;){for(h=j,j=[];++l<b;)h[l].run();l=-1,b=j.length}h=null,k=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i=b.exports={},j=[],k=!1,l=-1;i.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];j.push(new f(a,b)),1!==j.length||k||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.binding=function(a){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(a){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],35:[function(a,b,c){!function(){"use strict";function c(a){"string"==typeof a&&(a={url:a});var b=f.defer(),c=new XMLHttpRequest,e=a.url,g=a.method||"GET",h=a.data||null,i=a.headers||{},j=!0;if(!e)throw new TypeError("Must provide a URL");a.hasOwnProperty("withCredentials")&&(c.withCredentials=a.withCredentials),a.hasOwnProperty("timeout")&&(c.timeout=a.timeout),c.onreadystatechange=d.bind(c,a,b),c.open(g,e,j,a.user,a.password);for(var k in i)i.hasOwnProperty(k)&&c.setRequestHeader(k,i[k]);return c.send(h),b.promise}function d(a,b){var c=this,d=c.readyState;if(d===g.DONE)if(200===c.status){var f=(a.transform||e)(c.responseText,a.responseType);b.resolve(f,c)}else b.reject(c)}function e(a,b){return"json"===b?JSON.parse(a):a}var f=a("Promise"),g={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};b.exports=c}()},{Promise:40}],36:[function(a,b,c){!function(){"use strict";function c(a,b,c){return"function"==typeof a?a.apply(c,b||[]):a}function d(a){function b(){k--,k||i.resolve.call(j,h)}function d(a){return function(){h[a]=1===arguments.length?arguments[0]:arguments,b()}}function g(){var e,f,g;for(e=0,g=k;g>e;e++)f=a[e],f&&"function"==typeof f.then?f.then(d(e),i.reject):(h[e]=c(f),b())}a=a||[];var h=[],i=e.defer(),j=this,k=a.length;return a.length?(f(g),i):i.resolve(a)}var e=a("./promise"),f=a("./async");b.exports=d}()},{"./async":37,"./promise":38}],37:[function(a,b,c){(function(a){!function(){"use strict";function c(a){d(a)}var d;c.delay=function(a,b,c){setTimeout(a.apply.bind(a,this,c||[]),b)},d="object"==typeof a&&"function"==typeof a.nextTick?a.nextTick:"function"==typeof setImmediate?setImmediate:function(a){setTimeout(a,0)},c.nextTick=d,b.exports=c}()}).call(this,a("_process"))},{_process:34}],38:[function(a,b,c){!function(){"use strict";function c(a,b){b=b||new d;var e=this;e.then=function(a,c){return b.then(a,c)},e.resolve=function(){return b.transition(i.resolved,arguments,this),e},e.reject=function(){return b.transition(i.rejected,arguments,this),e},e.promise={then:e.then,always:e.always,done:e.done,"catch":e.fail,fail:e.fail,notify:e.notify,state:e.state,constructor:c},e.promise.promise=e.promise,e.then.stateManager=b,a&&a.call(e,e.resolve,e.reject)}function d(a){this.state=i.pending,a&&a.state&&this.transition(a.state,a.value,a.context)}function e(a){this.promise=a.promise}function f(a){g.debug&&(console.error(a),a&&a.stack&&console.log(a.stack))}function g(a){return new c(a)}var h=a("./async"),i={pending:0,resolved:1,rejected:2,always:3,notify:4},j=["pending","resolved","rejected"];c.prototype.done=function(a){return this.then.stateManager.enqueue(i.resolved,a),this.promise},c.prototype["catch"]=c.prototype.fail=function(a){return this.then.stateManager.enqueue(i.rejected,a),this.promise},c.prototype["finally"]=c.prototype.always=function(a){return this.then.stateManager.enqueue(i.always,a),this.promise},c.prototype.notify=function(a){return this.then.stateManager.enqueue(i.notify,a),this.promise},c.prototype.state=function(){return j[this.then.stateManager.state]},c.prototype.isPending=function(){return this.then.stateManager.state===i.pending},c.prototype.isResolved=function(){return this.then.stateManager.state===i.resolved},c.prototype.isRejected=function(){return this.then.stateManager.state===i.resolved},c.prototype.delay=function(a){var b=this;return new c(function(c,d){b.then(function(){h.delay(c.bind(this),a,arguments)},d.bind(this))})},d.prototype.enqueue=function(a,b){function c(){d.state===a||i.always===a?b.apply(d.context,d.value):i.notify===a&&b.call(d.context,d.state,d.value)}this.state?k.asyncTask(c):(this.queue||(this.queue=[])).push(c);var d=this},d.prototype.transition=function(a,b,c){if(!this.state){this.state=a,this.context=c,this.value=b;var d=this.queue;d&&(this.queue=null,k.asyncQueue(d))}},d.prototype.then=function(a,b){var f=this;if(a=a&&"function"==typeof a?a:null,b=b&&"function"==typeof b?b:null,!a&&f.state===i.resolved||!b&&f.state===i.rejected)return new c(null,f);var g=new c;return f.enqueue(i.notify,function(c,f){var h=c===i.resolved?a||b:b||a;h&&(f=d.runHandler(c,f,this,g,h)),f!==!1&&new e({promise:g}).finalize(c,f,this)}),g},d.runHandler=function(a,b,c,d,e){try{b=e.apply(c,b)}catch(g){return f(g),d.reject.call(c,g),!1}return void 0===b?[]:[b]},e.prototype.finalize=function(a,b,d){var e,f,g=this,h=this.promise;if(b.length)if(e=b[0],e===h)f=h.reject.call(d,new TypeError("Resolution input must not be the promise being resolved"));else if(e&&e.constructor===c)f=e.notify(function(a,b){g.finalize(a,b,this)});else if(void 0!==e&&null!==e)switch(typeof e){case"object":case"function":f=this.runThenable(e,d)}f||(a===i.resolved?h.resolve.apply(d,b):h.reject.apply(d,b))},e.prototype.runThenable=function(a,b){var c=this,d=!1;try{var e=a.then;if("function"==typeof e)return e.call(a,function(){d||(d=!0,c.finalize(i.resolved,arguments,this))},function(){d||(d=!0,c.promise.reject.apply(this,arguments))}),!0}catch(f){return d||c.promise.reject.call(b,f),!0}return!1};var k={_asyncQueue:[],asyncTask:function(a){1===k._asyncQueue.push(a)&&h(k.taskRunner(k._asyncQueue))},asyncQueue:function(a){1===a.length?k.asyncTask(a[0]):k.asyncTask(k.taskRunner(a))},taskRunner:function(a){return function(){for(var b;b=a[0];)k._runTask(b),a.shift()}},_runTask:function(a){try{a()}catch(b){f(b)}}};g.prototype=c.prototype,g.defer=function(){return new c},g.reject=function(){return new c(null,new d({context:this,value:arguments,state:i.rejected}))},g.resolve=g.thenable=function(a){if(a){if(a.constructor===c)return a;if("function"==typeof a.then)return new c(a.then)}return new c(null,new d({context:this,value:arguments,state:i.resolved}))},g.delay=function(a){var b=Array.prototype.slice(arguments,1);return new c(function(c){h.delay(c.bind(this),a,b)})},g.states=i,g.debug=!1,b.exports=g}()},{"./async":37}],39:[function(a,b,c){!function(){"use strict";function c(a){return a?new d(function(b,c){function d(){h||(h=!0,b.apply(this,arguments))}function e(){h||(h=!0,c.apply(this,arguments))}var f,g,h=!1;for(f=0,g=a.length;g>f;f++)a[f].then(d,e)}):d.resolve()}var d=a("./promise");b.exports=c}()},{"./promise":38}],40:[function(a,b,c){!function(){"use strict";var c=a("./promise");c.async=a("./async"),c.when=a("./when"),c.all=a("./all"),c.race=a("./race"),b.exports=c}()},{"./all":36,"./async":37,"./promise":38,"./race":39,"./when":41}],41:[function(a,b,c){!function(){"use strict";function c(){var a=this,b=arguments;return new d(function(c,d){e.call(a,b).then(function(b){c.apply(a,b)},function(b){d.call(a,b)})})}var d=a("./promise"),e=a("./all");b.exports=c}()},{"./all":36,"./promise":38}],42:[function(a,b,c){function d(a){var b=k.Utils.merge({},l,a),c=new i(b),d=new e(this,b),m=new f(this,b);b.resolve=b.resolve||c.resolve.bind(c),b.fetch=b.fetch||d.fetch.bind(d),b.compile=b.compile||m.compile.bind(m),k.call(this,b),this.plugin("js",{dependency:j}),this.ignore({name:"*",match:["module","exports","require"]});var n=new h(this),o=new g;this.providers.require=n,this.providers.define=o,this.require=n.require.bind(n),this.define=o.define.bind(o),this.define.amd={}}var e=a("./fetcher"),f=a("./compiler"),g=a("./define"),h=a("./require"),i=a("./resolver"),j=a("deps-bits"),k=a("bit-loader"),l={baseUrl:".",paths:{},shim:{},deps:[],packages:[],transforms:[]};d.prototype=Object.create(k.prototype),d.prototype.constructor=d,d.prototype.Logger=k.Logger,d.prototype.Module=k.Module,d.prototype.Rule=k.Rule,d.prototype.Utils=k.Utils,d.prototype.create=function(a){return new d(a)},d.prototype.require=function(){},d.prototype.define=function(){},d.prototype.config=function(a){return k.Utils.merge(this.settings,a),this.create(a)},d.prototype.transform=function(a){return this.providers.loader.transform({source:a}).then(function(a){return a.source},k.Utils.reportError)},b.exports=new d},{"./compiler":43,"./define":44,"./fetcher":46,"./require":48,"./resolver":49,"bit-loader":7,"deps-bits":32}],43:[function(a,b,c){function d(a){this.loader=a,this.logger=a.Logger.factory("Bitimporter/Compiler"),this.compile=this.compile.bind(this)}function e(a,b,c){var d=c.factory;"function"==typeof d&&(c.factory=function(){var a=d.apply(void 0,arguments),c=b.builtins.module;return void 0!==a?a:c.hasOwnProperty("exports")?c.exports:c}),c.type=a.Module.Type.AMD,b.configure(c)}function f(a,b){var c=b.source+g(b),d={exports:{},id:b.name,meta:b},e=i(a,a.define,a.require,d,d.exports,b.directory,b.path,c);return b.builtins={module:d,exports:d.exports,require:a.require},{_result:e,_module:d}}function g(a){var b=h(a)?a.path:a.id;return"\n//# sourceURL="+b}function h(a){return a.source?-1===a.source.indexOf("//# sourceMappingURL=")&&-1===a.source.indexOf("//# sourceURL="):!1}var i=a("./evaluate");d.prototype.compile=function(a){var b=this.loader;this.logger.log(a.name,a);var c=f(this.loader,a),d=b.providers.define.getDefinitions(a.name);d?e(b,a,d):a.configure({type:c._result?b.Module.Type.IIFE:b.Module.Type.CJS,code:c._result||c._module.exports})},b.exports=d},{"./evaluate":45}],44:[function(a,b,c){function d(){}d.prototype.define=function(){var a=d.adapters.apply(this,arguments),b=this._getContext();if(a.name){if(b.modules.hasOwnProperty(a.name))throw new Error("Module "+a.name+" is already defined");b.modules[a.name]=a}else b.anonymous.push(a)},d.prototype.getDefinitions=function(a){var b=this._clearContext();if(b){var c=b.anonymous,d=b.modules,e=d[a];return!e&&c.length&&(e=c.shift(),e.name=a,d[e.name]=e),d[a]&&delete d[a],e&&(e.modules=d),e}},d.prototype._getContext=function(){return this.context||(this.context={modules:{},anonymous:[]})},d.prototype._clearContext=function(){var a=this.context;return delete this.context,a},d.adapters=function(a,b,c){var e=["",typeof a,typeof b,typeof c].join("/"),f=d.adapters[e];if(!f)throw new TypeError("Module define signature isn't valid: "+e);return f.apply(this,arguments)},d.adapters.create=function(a,b,c){var d={name:a,deps:b};return"function"==typeof c?d.factory=c:d.code=c,d},d.adapters["/string/object/function"]=function(a,b,c){return d.adapters.create.call(this,a,b,c)},d.adapters["/string/function/undefined"]=function(a,b){return d.adapters.create.call(this,a,[],b)},d.adapters["/object/function/undefined"]=function(a,b){return d.adapters.create.call(this,void 0,a,b)},d.adapters["/object/undefined/undefined"]=function(a){return d.adapters.create.call(this,void 0,[],a)},d.adapters["/string/object/undefined"]=d.adapters["/string/function/undefined"],d.adapters["/function/undefined/undefined"]=d.adapters["/object/undefined/undefined"],d.adapters["/string/undefined/undefined"]=d.adapters["/object/undefined/undefined"],d.adapters["/number/undefined/undefined"]=d.adapters["/object/undefined/undefined"],d.adapters["/undefined/undefined/undefined"]=d.adapters["/object/undefined/undefined"],b.exports=d},{}],45:[function(require,module,exports){module.exports=function(System,define,require,module,exports,__dirname,__filename){eval(arguments[7])}},{}],46:[function(a,b,c){function d(a){this.loader=a,this.logger=a.Logger.factory("Bitimporter/Fetch")}var e=a("./fileReader");d.prototype.fetch=function(a){function b(a){return{source:a}}var c=this.loader;return this.logger.log(a.name,a,location),e(a.path).then(b,c.Utils.reportError)},b.exports=d},{"./fileReader":47}],47:[function(a,b,c){function d(a){f=a}function e(a){return f(a)}var f;e.register=d,b.exports=e},{}],48:[function(a,b,c){function d(a){this.loader=a,this.context=a.context,this.logger=a.Logger.factory("Bitimporter/require")}d.prototype.require=function(a,b,c){var d=this.loader;return this.logger.log(a,d.context._id),d.hasModule(a)?d.getModuleCode(a):d["import"](a,c).then(b||d.Utils.noop,d.Utils.reportError)},b.exports=d},{}],49:[function(a,b,c){function d(a){a=a||{},a.baseUrl=e(a.baseUrl),this._resolver=new g(a)}function e(a){var b="undefined"!=typeof window?window.location.href:"";return g.Url.parser.resolve(b,a||"")}function f(a){return a&&a.path||""}var g=a("amd-resolver");d.prototype.resolve=function(a){var b=this._resolver.resolve(a.name,f(a.referer)),c=g.File.parseParts(b.url.href);return b.directory=c.directory,b.path=c.path,b},b.exports=d},{"amd-resolver":3}]},{},[1])(1)});
//# sourceMappingURL=bit-imports.min.js.map